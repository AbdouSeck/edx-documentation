

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8.10. External Grader &mdash; Building and Running an edX Course  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="Building and Running an edX Course  documentation" href="../index.html"/>
        <link rel="up" title="8. Creating Exercises and Tools" href="index.html"/>
        <link rel="next" title="8.11. Full Screen Image Tool" href="full_screen_image.html"/>
        <link rel="prev" title="8.9. Dropdown Problem" href="dropdown.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> Building and Running an edX Course</a>
        <form class="wy-form" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../read_me.html">1. Read Me</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preface.html">2. Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../preface.html#system-status">2.1. System Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preface.html#resources-for-course-teams">2.2. Resources for Course Teams</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preface.html#resources-for-researchers">2.3. Resources for Researchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preface.html#resources-for-developers">2.4. Resources for Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preface.html#resources-for-students">2.5. Resources for Students</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../change_log.html">3. Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#october-2014">3.1. October, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#september-2014">3.2. September, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#august-2014">3.3. August, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#july-2014">3.4. July, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#june-2014">3.5. June, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#may-2014">3.6. May, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#april-2014">3.7. April, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#march-2014">3.8. March, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#february-2014">3.9. February, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#january-2014">3.10. January, 2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change_log.html#december-2013">3.11. December, 2013</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">4. Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/browsers.html">4.1. edX Browser Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/accounts.html">4.2. Getting Started with edX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/get_started.html">4.3. Getting Started with Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/accessibility.html">4.4. Guidelines for Creating Accessible Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/glossary.html">4.5. Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../building_course/index.html">5. Setting up Your Course</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../building_course/creating_new_course.html">5.1. Creating a New Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_course/export_import_course.html">5.2. Exporting and Importing a Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_course/course_files.html">5.3. Adding Files to a Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_course/handouts_updates.html">5.4. Adding Course Updates and Handouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_course/pages.html">5.5. Adding Pages to a Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_course/textbooks.html">5.6. Adding Textbooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_course/establish_grading_policy.html">5.7. Establishing a Grading Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building_course/setting_up_student_view.html">5.8. Setting up the Student View</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developing_course/index.html">6. Developing Your Course</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developing_course/workflow.html">6.1. Getting Started with Course Content Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing_course/course_outline.html">6.2. Developing Your Course Outline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing_course/course_sections.html">6.3. Developing Course Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing_course/course_subsections.html">6.4. Developing Course Subsections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing_course/course_units.html">6.5. Developing Course Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing_course/course_components.html">6.6. Developing Course Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing_course/controlling_content_visibility.html">6.7. Controlling Content Visibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing_course/testing_courseware.html">6.8. Testing Your Course Content</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../creating_content/index.html">7. Creating Course Content</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../creating_content/create_html_component.html">7.1. Working with HTML Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creating_content/create_video.html">7.2. Working with Video Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creating_content/create_discussion.html">7.3. Working with Discussion Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creating_content/create_problem.html">7.4. Working with Problem Components</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">8. Creating Exercises and Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="create_exercises_and_tools.html">8.1. Creating Exercises and Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotation.html">8.2. Annotation Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="checkbox.html">8.3. Checkbox Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="chemical_equation.html">8.4. Chemical Equation Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="circuit_schematic_builder.html">8.5. Circuit Schematic Builder Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="conditional_module.html">8.6. Conditional Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_javascript.html">8.7. Custom JavaScript Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="drag_and_drop.html">8.8. Drag and Drop Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="dropdown.html">8.9. Dropdown Problem</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">8.10. External Grader</a></li>
<li class="toctree-l2"><a class="reference internal" href="full_screen_image.html">8.11. Full Screen Image Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="gene_explorer.html">8.12. Gene Explorer Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="google_hangouts.html">8.13. Google Instant Hangout Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="iframe.html">8.14. IFrame Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_mapped_input.html">8.15. Image Mapped Input Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="lti_component.html">8.16. LTI Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="math_expression_input.html">8.17. Math Expression Input Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="molecule_editor.html">8.18. Molecule Editor Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="molecule_viewer.html">8.19. Molecule Viewer Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiple_choice.html">8.20. Multiple Choice Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="mult_choice_num_input.html">8.21. Multiple Choice and Numerical Input Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="numerical_input.html">8.22. Numerical Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="open_response_assessment.html">8.23. Open Response Assessment Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="periodic_table.html">8.24. Periodic Table Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="poll.html">8.25. Poll Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="problem_with_hint.html">8.26. Problem with Adaptive Hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="problem_in_latex.html">8.27. Problem Written in LaTeX</a></li>
<li class="toctree-l2"><a class="reference internal" href="protein_builder.html">8.28. Protex Protein Builder Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_input.html">8.29. Text Input Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="word_cloud.html">8.30. Word Cloud Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_python.html">8.31. Write-Your-Own-Grader Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="zooming_image.html">8.32. Zooming Image Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathjax.html">8.33. A Brief Introduction to MathJax in Studio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../content_experiments/index.html">9. Creating Content Experiments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../content_experiments/content_experiments_overview.html">9.1. Overview of Content Experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../content_experiments/content_experiments_configure.html">9.2. Configure Your Course for Content Experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../content_experiments/content_experiments_add.html">9.3. Add Content Experiments to Your Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="../content_experiments/content_experiments_view.html">9.4. Test Content Experiments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cohorts/index.html">10. Including Student Cohorts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cohorts/cohorts_overview.html">10.1. Using Cohorts to Build Course Communities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cohorts/cohort_config.html">10.2. Enabling and Configuring the Cohort Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cohorts/cohorts_discussions.html">10.3. Managing Discussions in a Course with Student Cohorts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releasing_course/index.html">11. Releasing Your Course</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../releasing_course/beta_testing.html">11.1. Beta Testing a Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releasing_course/course_launching.html">11.2. Course Launching Activities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releasing_course/staff_debug_info.html">11.3. Staff Debug Info</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../running_course/index.html">12. Running Your Course</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../running_course/course_staffing.html">12.1. Staffing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/course_enrollment.html">12.2. Enrollment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/discussions.html">12.3. Managing Course Discussions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/discussions_students.html">12.4. Participating in Course Discussions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/discussion_guidance_moderators.html">12.5. Guidance for Discussion Moderators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/course_data.html">12.6. Course Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/course_student.html">12.7. Student Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/course_answers.html">12.8. Answer Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/course_grades.html">12.9. Student Grades and Grading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running_course/checking_student_progress.html">12.10. Assign Final Grades and Issue Certificates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../students/index.html">13. Information for Your Students</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../students/login_guide.html">13.1. Sample Student Login Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../students/math_students.html">13.2. Math Response Formatting for Students</a></li>
<li class="toctree-l2"><a class="reference internal" href="../students/ora_students.html">13.3. Open Response Assessments for Students</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">Building and Running an edX Course</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="../index.html">Docs</a> &raquo;</li>
  <li><a href="">8.10. External Grader</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="external-grader">
<span id="id1"></span><h1>8.10. External Grader<a class="headerlink" href="#external-grader" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<span id="external-grader-overview"></span><h2>8.10.1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>An external grader is a service that receives student responses to a problem, processes those responses, and returns feedback and a problem grade to the edX platform. You build and deploy an external grader separately from the edX platform.</p>
<p>See the following sections for more information:</p>
<ul class="simple">
<li><a class="reference internal" href="#external-grader-example"><em>External Grader Example</em></a></li>
<li><a class="reference internal" href="#external-graders-and-xqueue"><em>External Graders and XQueue</em></a></li>
<li><a class="reference internal" href="#the-xqueue-interface"><em>The XQueue Interface</em></a></li>
<li><a class="reference internal" href="#building-an-external-grader"><em>Building an External Grader</em></a></li>
<li><a class="reference internal" href="#create-a-code-response-problem"><em>Create a Code Response Problem</em></a></li>
</ul>
</div>
<div class="section" id="external-grader-example">
<span id="id2"></span><h2>8.10.2. External Grader Example<a class="headerlink" href="#external-grader-example" title="Permalink to this headline">¶</a></h2>
<p>An external grader is particularly useful for software programming courses where students are asked to submit complex code.  The grader can run tests that you define on that code and return results to a student.</p>
<p>For example, you define a problem that requires students to submit Python code, and create a set of tests that an external grader can run to verify the submissions. When a student enters Python code for the problem and clicks <strong>Check</strong>, the code is sent to the grader for testing.  If the code passes all tests, the grader returns the score and a string indicating that the solution is correct.</p>
<img alt="Image of a students view of a programming problem that uses an external grader, with a correct result" src="../_images/external-grader-correct.png" />
<p>The external grader can return a string with results, which the student can see by clicking <strong>See full output</strong>. This can be particularly useful when the solution is not correct and you want to return information about the failed tests. For example:</p>
<img alt="Image of a students view of a programming problem that uses an external grader, with a correct result" src="../_images/external-grader-incorrect.png" />
</div>
<div class="section" id="external-graders-and-xqueue">
<span id="id3"></span><h2>8.10.3. External Graders and XQueue<a class="headerlink" href="#external-graders-and-xqueue" title="Permalink to this headline">¶</a></h2>
<p>The edX Platform communicates with your external grader through XQueue.  XQueue provides students&#8217; input to the grader; it then receives results from the grader and returns them to students.</p>
<p>Student submissions are collected in XQueue, where they remain until the grader actively retrieves, or pulls, the next submission from the queue for grading.</p>
<p>The external grader polls the XQueue through a RESTful interface at a regular interval. When the external grader pulls a submission, it runs the tests on it, then pushes the response back to XQueue through the RESTful interface. XQueue then delivers the response to the edX Learning Management System.</p>
<p>For example code of an external grader that uses Pull mode, see the <a class="reference external" href="https://github.com/Stanford-Online/xqueue_pull_ref">Stanford-Online repository xqueue_pull_ref</a>.</p>
<div class="section" id="external-grader-workflow">
<h3>8.10.3.1. External Grader Workflow<a class="headerlink" href="#external-grader-workflow" title="Permalink to this headline">¶</a></h3>
<p>The following steps show the complete process:</p>
<ol class="arabic simple">
<li>The student either enters code or attaches a file for a problem, then clicks Check.</li>
<li>The external grader pulls the code from XQueue.</li>
<li>The external grader runs the tests that you created on the code.</li>
<li>The external grader returns the grade for the submission, as well as any results in a string, to XQueue.</li>
<li>The XQueue delivers the results to the edX Learning Management System.</li>
<li>The student sees the problem results and the grade.</li>
</ol>
</div>
<div class="section" id="the-xqueue-name">
<h3>8.10.3.2. The XQueue Name<a class="headerlink" href="#the-xqueue-name" title="Permalink to this headline">¶</a></h3>
<p>Your course will use a specific XQueue name. You use this name when creating problems in edX Studio. You get this name from your edX Program Manager. As edX hosts many XQueues for different courses, it is critical that you use the exact XQueue name in your problems, as described in the section <a class="reference internal" href="#create-a-code-response-problem"><em>Create a Code Response Problem</em></a>.</p>
</div>
</div>
<div class="section" id="the-xqueue-interface">
<span id="id4"></span><h2>8.10.4. The XQueue Interface<a class="headerlink" href="#the-xqueue-interface" title="Permalink to this headline">¶</a></h2>
<p>The student submission sent from XQueue to the grader, and the response sent from the grader to XQueue, are JSON objects, as described below.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">XQueue does not send the the student ID to the external grader. Your grader cannot access student IDs or associate student IDs with submissions.</p>
</div>
<p>For the code for the XQueue interface, see the file <a class="reference external" href="https://github.com/edx/xqueue/blob/master/queue/urls.py">urls.py in the edX XQueue repository</a>.</p>
<div class="section" id="inputs-to-the-external-grader">
<h3>8.10.4.1. Inputs to the External Grader<a class="headerlink" href="#inputs-to-the-external-grader" title="Permalink to this headline">¶</a></h3>
<p>The grader receives student submissions as a JSON object with two keys:</p>
<ul class="simple">
<li><strong>student_response</strong>: A string containing the student&#8217;s code submission.  The string comes from either input the student enters in the edX Learning Management System or a file the student attaches.</li>
<li><strong>grader_payload</strong>: An optional string that you can specify when creating the problem. For more information, see the section <a class="reference internal" href="#create-a-code-response-problem"><em>Create a Code Response Problem</em></a>.</li>
</ul>
<p>For example:</p>
<div class="highlight-python"><pre>{
  "xqueue_body":
  "{
    "student_response": "def double(x):\n return 2*x\n",
    "grader_payload": "problem_2"
   }"
}</pre>
</div>
</div>
<div class="section" id="external-grader-responses">
<h3>8.10.4.2. External Grader Responses<a class="headerlink" href="#external-grader-responses" title="Permalink to this headline">¶</a></h3>
<p>After running tests and recording results for a submission, the grader must return information by posting a JSON response. The JSON string contains an indication if the submission was correct, the score, and any message the tests create.</p>
<p>In the following example, the grader returns a JSON string that indicates the submission was correct, the score was 1, and a message:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
 <span class="s">&quot;correct&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
 <span class="s">&quot;score&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s">&quot;msg&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;p&gt;The code passed all tests.&lt;/p&gt;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="building-an-external-grader">
<span id="id5"></span><h2>8.10.5. Building an External Grader<a class="headerlink" href="#building-an-external-grader" title="Permalink to this headline">¶</a></h2>
<p>Course staff, not edX, is responsible for building and deploying the external grader.</p>
<p>In addition to creating tests that are specific to the problems you use in your course, there are four areas that you must plan for when building an external grader:</p>
<ul class="simple">
<li><a class="reference internal" href="#scale"><em>Scale</em></a></li>
<li><a class="reference internal" href="#security"><em>Security</em></a></li>
<li><a class="reference internal" href="#reliability-and-recovery"><em>Reliability and Recovery</em></a></li>
<li><a class="reference internal" href="#testing"><em>Testing</em></a></li>
</ul>
<div class="section" id="scale">
<span id="id6"></span><h3>8.10.5.1. Scale<a class="headerlink" href="#scale" title="Permalink to this headline">¶</a></h3>
<p>Your external grader must be able to scale to support the number of students in your course.</p>
<p>Keep in mind that student submissions will likely come in spikes, not in an even flow.  For example, you should expect the load to be much greater than average in the hours before an exam is due.  Therefore, you should verify that the external grader can process submissions from a majority of students in a short period of time.</p>
</div>
<div class="section" id="security">
<span id="id7"></span><h3>8.10.5.2. Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h3>
<p>Students are submitting code that executes directly on a server that you are responsible for. It is possible that a student will submit malicious code. Your system must protect against this and ensure that the external grader runs only code that is relevant to the course problems.  How you implement these protections depends on the programming language you are using and your deployment architecture.  You must ensure that malicious code won&#8217;t damage your server.</p>
</div>
<div class="section" id="reliability-and-recovery">
<span id="id8"></span><h3>8.10.5.3. Reliability and Recovery<a class="headerlink" href="#reliability-and-recovery" title="Permalink to this headline">¶</a></h3>
<p>Once your course starts, many students will submit code at any possible time, and expect to see results quickly.  If your external grader is prone to failure or unexpected delays, the student experience will be poor.</p>
<p>Therefore, you must ensure that your grader has high availability and can recover from errors. Prior to your course starting, you must have a plan to immediately notify the team responsible for operating your grader, as well as edX operations, when the grader fails. In collaboration with edX, you should develop a procedure to quickly identify the cause of failure, which can be your grader or edX&#8217;s XQueue.</p>
<p>Contact your edX Program Manager for more information.</p>
<p>If you know the grader will be unavailable at a certain time for maintenance, you should <a class="reference internal" href="../building_course/handouts_updates.html#add-a-course-update"><em>Add a Course Update</em></a>.</p>
</div>
<div class="section" id="testing">
<span id="id9"></span><h3>8.10.5.4. Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<p>You should test your grader thoroughly before your course starts.  Be sure to test incorrect code as well as correct code to ensure that the grader responds with appropriate scores and messages.</p>
</div>
</div>
<div class="section" id="create-a-code-response-problem">
<span id="id10"></span><h2>8.10.6. Create a Code Response Problem<a class="headerlink" href="#create-a-code-response-problem" title="Permalink to this headline">¶</a></h2>
<p>You create a code response problem in edX Studio by adding a common blank problem, then editing the XML problem definition in the <a class="reference internal" href="../creating_content/create_problem.html#advanced-editor"><em>The Advanced Editor</em></a>.</p>
<p>See <a class="reference internal" href="../creating_content/create_problem.html#working-with-problem-components"><em>Working with Problem Components</em></a> for more information.</p>
<p>Following is a basic example of the XML definition of a problem that uses an external grader:</p>
<div class="highlight-python"><pre>&lt;problem display_name="Problem 6"&gt;
   &lt;text&gt;
       &lt;p&gt;Write a program that prints "hello world".&lt;/p&gt;
   &lt;/text&gt;
   &lt;coderesponse queuename="my_course_queue"&gt;
       &lt;textbox rows="10" cols="80" mode="python" tabsize="4"/&gt;
       &lt;codeparam&gt;
           &lt;initial_display&gt;
             # students please write your program here
             print ""
           &lt;/initial_display&gt;
           &lt;answer_display&gt;
             print "hello world"
           &lt;/answer_display&gt;
           &lt;grader_payload&gt;
           {"output": "hello world", "max_length": 2}
           &lt;/grader_payload&gt;
       &lt;/codeparam&gt;
   &lt;/coderesponse&gt;
&lt;/problem&gt;</pre>
</div>
<p>Note the following about the XML definition:</p>
<ul class="simple">
<li><strong>queuename</strong>: The value of the queuename attribute of the &lt;coderesponse&gt; element maps to an XQueue that edX sets up for the course.  You get this name from your edX Program Manager. You must use this exact name in order for the problem to communicate with the correct XQueue.</li>
<li><strong>Input Type</strong>: In this example, the input type is specificed by the <strong>&lt;textbox&gt;</strong> element.  When you use &lt;textbox&gt;, the student enters code in a browser field when viewing the course unit.  The other element you can use to specify the input type is &lt;filesubmission&gt;, which enables the student to attach and submit a code file in the unit.</li>
<li><strong>&lt;grader_payload&gt;</strong>: You can use the &lt;grader_payload&gt; element to send information to the external grader in the form of a JSON object. For example, you can use &lt;grader_payload&gt; to tell the grader which tests to run for this problem.</li>
</ul>
</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="full_screen_image.html" class="btn btn-neutral float-right" title="8.11. Full Screen Image Tool"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="dropdown.html" class="btn btn-neutral" title="8.9. Dropdown Problem"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright 2014, edX.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>